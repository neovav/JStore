<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>This is test page for JStore class</title>
    <script type="application/javascript" src="../src/JStore.class.js"></script>
    <script type="application/javascript">

        //try{localStorage.removeItem('css:jQuery');}catch(Err){};
        //try{localStorage.removeItem('js:jQuery');}catch(Err){};
        //try{localStorage.removeItem('js:jQueryUI');}catch(Err){};

        let obj = [
                    {'name':'css:Style', 'type':'css', 'md5':'e1919eb2a7400f96b825a7c3f7cb1782', 'url':'style.css'},
                    {'name':'css:jQuery', 'type':'css', 'md5':'bf051f24690699bc2665ef6e4d7487a7', 'url':'https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css'},
                    {'name':'js:jQuery', 'type':'js', 'md5':'4f252523d4af0b478c810c2547a63e19', 'url':'https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js'},
                    {'name':'js:jQueryUI', 'type':'js', 'md5':'0a497d4661df7b82feee14332ce0bdaf', 'url':'https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js'}
                  ];

        if(typeof(window['jstore'])!=='object' || window['jstore']===null)
            window['jstore'] = new JStore();

        window['jstore'].load(obj);

        (function($)
          {
console.log('Load');
              $(document).ready(function()
                 {
console.log('Ready');
                     $('#state').append('<span>The library is successfully loaded</span>');
                     $('#datepicker').datepicker({dateFormat: 'yy-mm-dd'});
                     window['jstore'].load([{'name':'html:Menu', 'type':'html', 'md5':'a770bb47affef52b7b9c3c52bbe5dc3e', 'tag':'#menu', 'url':'menu.tmpl'}]);
                     $('#menu').menu();
                 });
          })(jQuery);
    </script>
</head>
<body>
    <div>
        <div id="header" align="center"><H1>This is test page for JStore class</H1></div>
        <div style="display: table-row">
            <div style="display: table-cell; padding: 0 20px 0 0;"><ul id="menu"> </ul></div>
            <div style="display: table-cell;"><p>Date: <input type="text" id="datepicker"></p></div>
        </div>
        <div id="footer" align="center"><h4 id="state"></h4></div>
    </div>
</body>
</html>